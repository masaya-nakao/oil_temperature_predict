（作業開始）
電力配分の問題は、異なるエリアへの電力の配分がその連続的な使用状況に依存することです。
しかし、特定エリアの次の需要を予測することは困難であり、平日、休日、季節、天候、気温などによって変わります。
しかし、既存の方法では、超長期の実際のデータに基づいて高精度で長期予測を行うことはできません。
誤った予言は電気変圧器を損傷する可能性があります。
そのため、現在、将来の電気使用量を予測する効率的な方法がなければ、管理者は実際の需要よりもはるかに高い経験値に基づいて決定を下す必要があります。
これは、電気の無駄と設備の減価償却の不必要な無駄を引き起こします。一方、油温は電気変圧器の状態を反映することができます。
最も効率的な戦略の1つは、電気変圧器の油温が安全かどうかを予測し、不必要な無駄を避けることです。
その結果、この問題に対処するために、私たちのチームと北京国王福達科学技術開発会社は現実世界のプラットフォームを構築し、2年間のデータを収集しました。
私たちは、電気変圧器の油温を予測し、極限負荷容量を調査するために取り組んでいます。

Ett-small
「バリアント (variant)」とは、ある基本的なモデルやデータセットを基にして作られた異なるバージョンやバリエーションのことを指しています。
この場合、「ETT-small-h1」や「ETT-small-h2」という名前が付けられていることから、
元のETTデータセットやモデルの時間単位に基づいた派生版が「バリアント」として提供されていると考えられます。

具体的には以下のような可能性が考えられます：
異なる時間解像度
元のデータが日単位または長期スパンのデータの場合、バリアントは時間単位で細分化された（例えば、1時間ごとや2時間ごとの）データに変更されている。
異なるスケールや設定
モデルの学習に使うデータの範囲や、特徴量の解像度が変更されたバージョン。
特定用途向けの調整
高速開発や検証を目的とした軽量化や、特定の目的に合わせたカスタマイズ。
つまり、この文章における「バリアント」は、元のETT（Electricity Transformer 

データセットについて
date:記録された日付
HUFL:High Upper Flange Limit
HULL：High Upper Load Limit
MUFL:Medium Upper Flange Limit
MULL:Medium Upper Load Limit
LUFL:Low Upper Flange Limit
LULL:Low Upper Load Limit
OT：Oil Temperture

データの理解とEDA（探索的データ分析：データサイエンティストがデータセットを分析・調査して、その主な特徴をまとめる際に用いる手法
データの可視化手法を使用することが多く、データの解釈にあたっては「まずモデルありき」ではなく、現実激な立場でデータの示唆する情報を
多面的にとらえるというアプローチがとられます。）

1,データ準備
ett.csvから、dateとOTのみを取り出す。→filtered_ett.csv
そのまま、横軸をdate,縦軸をOTにすると、OTは夏に相対的に上昇し、
冬に下降することだけがわかる。これは単なる外気温によるものだと思われ、有用な情報ではない。
2,データ前処理と特徴量エンジニアリング
欠損値処理→欠損値はなかった
正規化とスケーリング→今回は特に必要ないと思われる。
（１時間経過）
最初に簡単なPycaretを用いて、モデルを実装する。
その後必要であれば、ほかの特徴量を追加して、精度の向上を目指す。
様々な特徴量があるが、時系列データは重回帰分析は行わないらしい。
時系列データの主な処理方法
・原系列→x1,x2,x3...
・差分系列→掲示変化を求めるときに便利(y1=x1+x2など)
・対数系列→対数変換された時系列データ(log(x1)、log(x2)、log(x3)、log(x4)、log(x5))
・対数差分系列→対数系列において、差分を取った時系列データ。対数データの経時変化を求めるときに便利（log(y1)=log(x2)-log(x1)、log(y2)=log(x3)-log(x2)、log(y3)=log(x4)-log(x3)、log(y4)=log(x5)-log(x4)）
・季節調整系列→季節変動の影響を調整したデータ。季節による影響をなくすことで、より純粋に長期変動を分析できる
（log(y1)=log(x2)-log(x1)、log(y2)=log(x3)-log(x2)、log(y3)=log(x4)-log(x3)、log(y4)=log(x5)-log(x4)）

時系列データに影響する３つの要因
・長期変動
・季節変動
・不規則変動
時系列分析の５つの予測モデルの例
・ARモデル・MAモデル・ARMAモデル・ARIMAモデル・SARIMAモデル
（２時間経過）
一日の温度変化はかなりある。そして、曜日ごとの温度変化はあまりない。
また、季節ごとの変化はおおいにある。
つまり、一日の温度変化については、差分をとったデータを読み込ませて、
そこに、季節ごとの重みづけをしていく。→SARIMAモデルを用いる（トレンドは下降傾向で、非定常データであり、季節性を持っているから）
自己相関関数が１に近く、強い周期性がある。

初回のモデルの実行
MSE：0.1793145989847061
モデルの精度をあげにいく
１．パラメータの調整
SARIMAモデルのパラメータ（orderとseasonal_order）を調整することで、モデルの精度を向上させることができます。これらのパラメータは、以下のように設定されます：
order: (p, d, q)
p: 自己回帰項の次数(過去のデータ（ラグ）を使って現在のデータを予測するモデルの次数。値が大きいほど、より多くの過去データを考慮します。)
d: 差分を取る回数（データを定常化するための差分操作の回数。d=2→(yt-y(t-1))-(y(t-1)-y(t-2))
q: 移動平均項の次数(過去の予測誤差を使って現在のデータを説明するモデルの次数）
seasonal_order: (P, D, Q, s)
P: 季節自己回帰項の次数（1年ごとに周期性がある場合はP＝１）
D: 季節差分を取る回数（D＝１の場合、1年前との差分をとります）
Q: 季節移動平均項の次数（過去の季節的な予測誤差を使って現在のデータを予測する次数）
s: 季節周期（月次データではs=12)

2. グリッドサーチによる最適パラメータの探索
グリッドサーチを用いて、最適なパラメータを探索することができます。
最適なSARIMAモデルのパラメータがbest_paramsとして出力されます。
best_paramsには、orderとseasonal_orderの最適な組み合わせが含まれます。
(3時間経過)
パラメータ選択のヒント
１，p,q,P,Qの選択→自己相関関数（ACF）や偏自己相関関数（PACF）を使って決定
２，d,Dの選択：非定常な場合、差分回数を増やす。季節性が強い場合、季節差分を1回加えることが一般的
（d=0：データがすでに定常である。d=1:データに一階差分が必要（直線的なトレンドがある場合）d=2:放物線的なトレンドがある場合））
３，sの設定：データの周期性に合わせる（例：月次データなら12、週次データなら52）

今回ACFは徐々に減少しているので、q=0に設定する。
また、PACFはラグ２で急激に減少しているので、p=2に設定する
季節性は一年ごとに現れるので、ＰとＱは１のままで設定する。
(4時間経過)
パラメータを調整することで、
MSE:0.16344を達成